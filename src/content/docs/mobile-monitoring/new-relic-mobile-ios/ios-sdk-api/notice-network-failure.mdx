---
title: noticeNetworkFailure (iOS SDK API)
type: apiDoc
shortDescription: Manually record a failed transactional network request.
tags:
  - Mobile monitoring
  - New Relic Mobile iOS
  - iOS SDK API
metaDescription: New Relic API for iOS mobile app monitoring to manually record a failed transactional network request.
redirects:
  - /docs/mobile-monitoring/new-relic-mobile-ios/ios-sdk-api/notice-network-failure-ios-sdk-api
---

## Syntax

```
+ (void)noticeNetworkFailureForURL:(NSURL*)url
                        httpMethod:(NSString*)httpMethod
                         withTimer:(NRTimer*)timer
                    andFailureCode:(NSInteger)iOSFailureCode;
```

Manually record a failed transactional network request.

## Requirements

Compatible with all agent versions.

## Description

Failed requests are requests that fail to receive a complete response from
the server caused by things like TCP timeouts, SSL failures, connection closures, and more.

The failure codes you pass into this method should correlate to [Apple's documented
NSURLConnection failure codes](https://developer.apple.com/documentation/foundation/1508628-url_loading_system_error_codes).

## Parameters

<table>
  <thead>
    <tr>
      <th width={200}>
        **Parameter**
      </th>

      <th>
        **Description**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$url`

        _NSURL_
      </td>

      <td>
        Required. The URL of the request.
      </td>
    </tr>
    <tr>
      <td>
        `$httpMethod`

        _string_
      </td>

      <td>
        Required. The HTTP method of the request.
      </td>
    </tr>
    <tr>
      <td>
        `$timer`

        _NRTimer_
      </td>

      <td>
        Required. A timer that captures the start and end of the request.
      </td>
    </tr>
    <tr>
      <td>
        `$iOSFailureCode`

        _NSInteger_
      </td>
      <td>
        Required. The failure codes you pass into this method should correlate to [Apple's documented
NSURLConnection failure codes](https://developer.apple.com/documentation/foundation/1508628-url_loading_system_error_codes).
      </td>
    </tr>
  </tbody>
</table>

## Examples

### Objective-C [#obj-c]

**Example:**

```
[NewRelic noticeNetworkFailureForURL:[NSURL URLWithString:@"https://www.newrelic.com"]
                          httpMethod:@"GET"
                           withTimer:[[NRTimer alloc] init]
                      andFailureCode:NSURLErrorTimedOut];
```

### Swift [#swift]


**Example:**

```
NewRelic.noticeNetworkFailure(for: URL(string: "https://www.newrelic.com"), httpMethod: "GET",
                                with: NRTimer(), andFailureCode: NSURLErrorTimedOut)
```
